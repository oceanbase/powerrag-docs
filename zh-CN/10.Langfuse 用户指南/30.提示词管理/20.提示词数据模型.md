# 提示词数据模型

## 提示词对象
Langfuse 中带有自定义配置的提示词示例：

```python
{
  "name": "movie-critic",
  "type": "text",
  "prompt": "As a {{criticLevel}} movie critic, do you like {{movie}}?",
  "config": {
    "model": "gpt-4o",
    "temperature": 0.5,
    "supported_languages": ["en", "fr"]
  },
  "version": 1,
  "labels": ["production", "staging", "latest"],
  "tags": ["movies"]
}
```

+ `name`：Langfuse 项目中提示词的唯一名称。
+ `type`：提示词内容的类型（`text`或`chat`）。默认为`text`。
+ `prompt`：带有变量的文本模板（例如`This is a prompt with a {{variable}}`）。对于聊天提示词，是聊天消息列表，每个消息都带有`role` 和`content` ，也可以包含占位符。
+ `config`：可选的 JSON 对象，用于存储任何参数（例如模型参数或模型工具）。
+ `version`：整数，表示提示词的版本。创建新的提示词版本时，版本会自动递增。
+ `labels`：可用于获取 SDK 中特定提示词版本的标签。
    - 当使用未指定标签的提示词时，Langfuse 将提供带有`production`标签的版本。
    - `latest`指向最近创建的版本。
    - 您可以创建任何附加标签，例如针对不同的环境（`staging`、`production`）或租户（`tenant-1`、`tenant-2`）。
+ `tags`：使用标签对提示词进行分类，例如在控制台或 SDK 中筛选提示词。提示词的所有版本都共享相同的标签。

## 聊天提示词与文本提示词
Langfuse 支持两种类型的提示词：文本和聊天。主要区别在于内容的结构方式：

### 文本提示词
文本提示词包含单个字符串和可选变量。它们非常适合简单的 completion，或用于需要单条文本输入的模型。

```python
{
  "name": "movie-critic",
  "type": "text",
  "prompt": "As a {{criticLevel}} movie critic, do you like {{movie}}?",
  "version": 1
}
```

编译后，文本提示词返回单条字符串：

```python
# Returns: "As an expert movie critic, do you like Dune 2?"
```

### 聊天提示词
聊天提示词包含一系列消息，每条消息都带有`role`和`content`。它们是为对话模型和多轮交互而设计的。

```python
{
  "name": "movie-critic-chat",
  "type": "chat",
  "prompt": [
    {
      "role": "system",
      "content": "You are a {{criticLevel}} movie critic"
    },
    {
      "role": "user",
      "content": "Do you like {{movie}}?"
    }
  ],
  "version": 1
}
```

编译后，聊天提示词返回一个消息对象数组：

```plain
# Returns: [#   {"role": "system", "content": "You are an expert movie critic"},#   {"role": "user", "content": "Do you like Dune 2?"}# ]
```

两种提示词类型都支持使用`{{variable}}`语法进行变量替换，并且可以包含自定义配置参数。

## 版本控制和标签
Langfuse 的提示词[版本控制](../30.提示词管理/30.核心功能/00.版本控制.md)会在您每次更新同名提示词时自动创建增量版本（1、2、3……），而标签则充当指向特定版本的指针，用于部署管理。当未请求特定标签时，`production`标签将作为 SDK 返回的默认版本，`latest`自动指向最近创建的版本。您还可以创建自定义标签（例如`staging`、`tenant-1`或`prod-a`）来管理不同的环境、租户或 A/B 测试场景，从而让您能够安全地部署、测试和回滚提示词，只需重新分配标签即可，而无需更改代码。

![](https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/doc/img/powerrag/langfuse/prompt-model.png)





