# Environments

Environments are used to distinguish and manage trace, observation, and score data from different contexts (such as production, staging, development, etc.). Through environments, you can:

+ Isolate data from development and production environments within the same project.
+ Filter and analyze observability data by environment.
+ Reuse datasets and prompt templates across different environments.

## Environment configuration

You can configure environments in the following two ways:

1. **Recommended**: Set the environment variable `LANGFUSE_TRACING_ENVIRONMENT`;
2. **Optional**: Specify via the `environment` parameter when initializing the PowerRAG client.

If both methods are set, the client initialization parameter takes priority. If neither method is set, the system will default to the `default` environment.

## Data model

In PowerRAG's data model, the `environment` attribute can be used for all of the following objects:

+ Traces
+ Observations (including span, event, generation, etc.)
+ Scores
+ Sessions

Environment names must be strings and conform to the following regular expression: `^(?!langfuse)[a-z0-9-_]+$`, with a maximum length of 40 characters.

Naming rules:

+ Cannot start with "langfuse";
+ Only lowercase letters, numbers, hyphens (-), and underscores (_) are allowed.

## How to use

### Python SDK

```python
from langfuse import get_client, observe
import os

# Set environment variable (can also be defined in .env file and loaded via dotenv)
os.environ["LANGFUSE_TRACING_ENVIRONMENT"] = "production"

# Get client instance (automatically uses environment variable)
langfuse = get_client()

# All operations will automatically belong to the "production" environment
with langfuse.start_as_current_span(name="my-operation") as span:
    # Write your business logic
    pass

@observe
def main():
    return "Hello"

main()
```

### JS/TS SDK

Set environment variable via command line:

```bash
export LANGFUSE_TRACING_ENVIRONMENT=production
```

After setting, the PowerRAG client will automatically recognize this environment configuration.

## Data filtering

In the PowerRAG console interface, you can filter event data by environment through the Environment filter in the navigation bar. This filter applies to all views, allowing you to view data for specific environments only.

## Environment management

The system automatically creates the corresponding environment when it first receives data with a specified `environment` value. Created environments persist, and currently there is no support for deleting or renaming environments in the console.

